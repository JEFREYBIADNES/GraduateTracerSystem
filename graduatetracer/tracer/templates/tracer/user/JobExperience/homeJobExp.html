{%  extends 'tracer/user/template.html' %}

{% load static %}
{% load humanize %}

{% block content %}
<!-- Datatables -->

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.css">

  <style media="screen">
    .none{
      display:none;
    }

    .text-black{
      color:black;
    }

    .dataTables_wrapper{
      z-index: 0;
    }
    .dataTables_length{
      z-index: 2;
    }

    .dataTables_filter{
      display: none;
    }

    .dropdown-filter{
      top: 33px !important;
      position: relative;
      z-index: 1;
    }

    .dataTables_length{
      padding-bottom: 10px;
    }
    .th-w-20{
      width:20% !important;
    }
    .th-w-10{
      width:10% !important;
    }

    label{
      display: inline-block;
      margin-bottom: 0.5rem;
      margin-top: 1.5rem;
    }
    .btn {
   border: none;
   color: white;
   padding: 10px px;
   text-align: center;
   text-decoration: none;
   display: inline-block;
   font-size: 16px;
   margin: 4px 2px;
   transition-duration: 0.4s;
   cursor: pointer;
   }

   .btn2 {
     background-color: white;
     color: black;
     border: 2px solid #0074ff;
   }

   .btn2:hover {
     background-color: #1f3bd6;
     color: white;
   }
  </style>

  <!-- Page increment -->
  <script>
    function show(shown, hidden) {

      document.getElementById(shown).style.display='block';
      document.getElementById(hidden).style.display='none';
      return false;
    }
  </script>
  <!-- End -->
  <div class="text-center pt-3">
      <h3>My Job Experiences</h3>
  </div>
    <div class="row">
        <!-- <div class="col-md-8 col-sm-12 col-l-8 col-xl-8">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'HomeJobExperience' %}">Job Experiences</a></li>
                <li class="breadcrumb-item active" aria-current="page">My Job Experiences</li>
              </ol>
            </nav>
          </div> -->

     </div>

<div class="container bg-white card shadow mb-4 pr-4 pl-4 pb-3">
  <div class="align-self-end ml-auto mt-5">
     <a href="{% url 'AddJobExperience'%}" class="btn btn2">Add Job Experience </a>
  </div>
  <table id="jobs" class="display table table-bordered table-responsive w-100 pt-4">
      <thead>
          <tr>
              <th class="th-w-20" style="white-space: nowrap">Company Name</th>
              <th class="th-w-20" style="white-space: nowrap">Address</th>
              <th class="th-w-20" style="white-space: nowrap">Position</th>
              <th class="th-w-20" style="white-space: nowrap">Description</th>
              <th class="th-w-10" style="white-space: nowrap">Date Started</th>
              <th class="th-w-10" style="white-space: nowrap">Date Leaved</th>
              <th class="text-center" scope="col" colspan="2">Action</th>
          </tr>
      </thead>
      <tbody>
        {% for ad in ads %}
          <tr>
              <td>
                {% if ad.name%}
                  {{ad.name}}
                {% endif %}
              </td>
              <td>{{ad.title}}</td>
              <td>
                  {% if ad.job_category %}
                    {{ad.job_category}}
                  {% endif %}
              </td>
              <td>
                {% if ad.salary %}
                  {{ad.salary}}
                {% endif %}
              </td>
              <td>{{ad.date_created|naturalday}}</td>
              <td class="text-center"><a href="{% url 'view_ads' ad.id %}"><i class="fas fa-eye"></i></a></td>
          </tr>
        {% endfor %}
      </tbody>
  </table>
</div>






<!-- Datatables -->
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.js"></script>

<!-- Sweet Alert -->
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  {% for message in messages %}
  Swal.fire({
    position: 'center',
    icon: 'success',
    title: '{{message}}',
    showConfirmButton: false,
    timer: 3000
  })
  {% endfor %}
</script>

<script>
  $(document).ready(function() {
    var table = $('#jobs').DataTable( {
      stateSave: false,
      "ordering": true,
      "columnDefs" : [{"targets":3, "type":"date-eu"}],
      order: [],

    } );
    $('#query0').on('change', function(){
       table.columns(1).search(this.value).draw();
    });
    $('#query1').on('change', function(){
       table.columns(2).search(this.value).draw();
    });
    $('#query2').on('change', function(){
       table.columns(3).search(this.value).draw();
    });
} );
</script>

{% endblock %}
